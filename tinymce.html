<!DOCTYPE html>
<html>

<head>
  <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
  <script type="text/javascript">

  // autocomplete
  var specialChars = [
    { text: 'button', value: '<div class="button__item">aaa</div>' }
  ];

  tinymce.init({
    selector: 'textarea#template',
    content_css: '/css/main.css',
    // forced_root_block: '<div>',
    width: 800,
    height: 600,
    plugins: 'code link visualblocks',
    menubar: 'insert tools view',
    toolbar: 'code visualblocks basicButtonInsert',

    setup: function (editor) {
      /* Helper functions */
      var buttonHtml = function (date) {
        return '<button class="button__item">ボタン</button>';
      };

      /* Basic button that just inserts the date */
      editor.ui.registry.addButton('basicButtonInsert', {
        text: 'Insert Button',
        tooltip: 'Insert Button Design',
        onAction: function (_) {
          editor.insertContent(buttonHtml());
        }
      });

    }
  });

  </script>
</head>

<body>
  <textarea id="template">
  </textarea>
</body>

</html>