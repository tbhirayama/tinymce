<!DOCTYPE html>
<html>

<head>
  <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
  <script type="text/javascript">

  tinymce.init({
    selector: 'textarea#template',
    content_css: '/css/main.css',
    forced_root_block: 'ul',
    height: 600,
    plugins: 'template code link',
    menubar: 'insert tools',
    toolbar: 'template code',
    template_mdate_format: '%m/%d/%Y : %H:%M',
    template_replace_values: {
      username: 'Jack Black',
      staffid: '991234',
      inboth_username: 'Famous Person',
      inboth_staffid: '2213',
    },
    template_preview_replace_values: {
      preview_username: 'Jack Black',
      preview_staffid: '991234',
      inboth_username: 'Famous Person',
      inboth_staffid: '2213',
    },
    templates: [
      {
        title: 'ボタン',
        description: 'ボタンテンプレートを挿入します',
        content: '<li class="button__item">ボタン</li>'
      },
      {
        title: 'Replace values example',
        description: 'These values will be replaced when the template is inserted into the editor content.',
        content: '<p>Name: {$username}, StaffID: {$staffid}</p>'
      },
      {
        title: 'Replace values preview example',
        description: 'These values are replaced in the preview, but not when inserted into the editor content.',
        content: '<p>Name: {$preview_username}, StaffID: {$preview_staffid}</p>'
      },
      {
        title: 'Replace values preview and content example',
        description: 'These values are replaced in the preview, and in the content.',
        content: '<p>Name: {$inboth_username}, StaffID: {$inboth_staffid}</p>'
      }
    ],
    content_style: 'body { font-family:Helvetica,Arial,sans-serif; font-size:14px }'
  });

  // $('button').on('click', function (e) {
  //   $('#template').tinymce().$('body div').css("border", "1px solid red");
  // });

  var $ = tinymce.dom.DomQuery;
    $('p').attr('attr', 'value').addClass('class');

  $(document).on("click",
    "#Add",
    function () {
      var row =`test`;
      $("#CmsContentData").append(row);
      window.tinymceInit();
    });

  </script>
</head>

<body>
  <form method="post">
    <button class="js-add-button">ADD BUTTON</button>
    <textarea id="template">
      hello world<br>
      <p>hello world border by clicked</p>
    </textarea>
    <button id="Add">Add</button>
  </form>

  <tbody id="CmsContentData">
  </tbody>
</body>

</html>